import { useCallback } from 'react'
import { Editor } from '@tiptap/react'

interface Props {
  editor: Editor
}

function Image({ editor }: Props) {
  const handler = useCallback(() => {
    const src = window.prompt('URL')

    if (src) {
      editor.chain().focus().setImage({ src }).run()
    }
  }, [editor])

  return (
    <button className="action" onClick={handler}>
      <svg viewBox="0 0 100 100">
        <path
          d="M19.4782609,22.5 C16.4854087,22.5 14,24.9952714 14,28 L14,72 C14,75.0047286 16.4854087,77.5 19.4782609,77.5 L80.5217391,77.5 C83.5145913,77.5 86,75.0047286 86,72 L86,28 C86,24.9952714 83.5145913,22.5 80.5217391,22.5 L19.4782609,22.5 Z M19.7877333,27.5 L81.212503,27.5 C81.6893088,27.5 82,27.8100094 82,28.2854676 L82,59.5 L70.0891072,50.0029294 C69.3108396,49.3740999 68.1142221,49.32195 67.2836489,49.8802308 L56.1106408,57.5366255 L40.9513227,45.2911056 C40.4683665,44.8984699 39.8254382,44.7082851 39.2040242,44.7757713 C38.8164261,44.8217804 38.4411365,44.9659562 38.1212158,45.1929467 L19,58.3462402 L19,28.2852713 C19,27.8098131 19.3106912,27.5 19.787497,27.5 L19.7877333,27.5 Z M56,33.5 C52.1627556,33.5 49,36.6627556 49,40.5 C49,44.3372444 52.1627556,47.5 56,47.5 C59.8372444,47.5 63,44.3372444 63,40.5 C63,36.6627556 59.8372444,33.5 56,33.5 Z M55.5,38.5 C56.9095,38.5 58,39.5905 58,41 C58,42.4095 56.9095,43.5 55.5,43.5 C54.0905,43.5 53,42.4095 53,41 C53,39.5905 54.0905,38.5 55.5,38.5 Z M39.3769562,49.5 L54.5363313,61.7368909 C55.3146018,62.3665695 56.5112238,62.4187897 57.3418,61.8597552 L68.48965,54.193023 L82,64.980705 L82,71.7136685 C82,72.1897686 81.6893076,72.5 81.2125,72.5 L19.7875,72.5 C19.3106924,72.5 19,72.1897686 19,71.7136685 L19,63.5311028 L39.3769562,49.5 Z"
          className="path"
        ></path>
      </svg>
    </button>
  )
}

export default Image
