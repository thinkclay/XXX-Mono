(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6859],{53581:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return App}});var l=a(18708),n=a(55444),i=a(80342),s=a(70123);a(20852),a(3138);var r=a(40271),c=a(82834),o=a(938),Navigation_Toggle=function(){let[e,t]=(0,i.FV)(c.ii);return(0,l.jsx)("button",{className:"Toggle ".concat(e.loading?"loading":""),onClick:()=>{t({...e,menuOpen:!e.menuOpen})},children:(0,l.jsx)("svg",{viewBox:"0 0 70 68",children:(0,l.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,l.jsx)("path",{d:"M1,60.8136887 C9.89707842,62.3145438 16.2023892,62.3145438 19.9159324,60.8136887 C35.51424,54.5095207 43.4024564,35.0144928 35,15.463237 C31.1772116,6.56818174 24.231007,6.15839994 21.3955329,7.43148889 C15.1542794,10.233726 15.1629649,18.4298629 18.1706655,27.2075445 C21.6566022,37.3809114 33.4746261,45.6710531 42.3913043,42.4026571 C56.5916882,37.1975262 63.6918801,26.1762313 63.6918801,9.33877235",className:"path"})})})})},d=a(43165),Navigation_NavLink=function(e){let[t]=(0,d.yj)(e.href),[a,n]=(0,i.FV)(c.ii);return(0,l.jsx)(d.rU,{...e,onClick:t=>{n({...a,menuOpen:!1,route:e.href})},children:(0,l.jsx)("a",{className:t?"active":"",children:e.children})})};a(34223);var Navigation_PrimaryNav=function(e){let{open:t}=e,{authUser:a}=(0,o.f2)();return(0,l.jsxs)("nav",{className:"PrimaryNav ".concat(t?"open":"closed"),children:[(0,l.jsx)(Navigation_Toggle,{}),(0,l.jsxs)("div",{className:"links",children:[(0,l.jsx)(Navigation_NavLink,{href:"/",children:"Home"}),(0,l.jsxs)(l.Fragment,{children:[a?(0,l.jsx)(Navigation_NavLink,{href:"/account",children:"Account"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Navigation_NavLink,{href:"/login",children:"Login"}),(0,l.jsx)(Navigation_NavLink,{href:"/register",children:"Register"}),(0,l.jsx)(Navigation_NavLink,{href:"/reset",children:"Reset Password"})]}),(0,l.jsx)(Navigation_NavLink,{href:"/analytics",children:"Analytics"}),(0,l.jsx)(Navigation_NavLink,{href:"/settings",children:"Settings"}),(0,l.jsx)(Navigation_NavLink,{href:"/feedback",children:"Feedback"})]})]})]})},u=a(73828),Auth_GoogleIcon=function(){return(0,l.jsx)("svg",{viewBox:"0 0 370 378",children:(0,l.jsx)("g",{stroke:"none",fill:"none",fillRule:"evenodd",children:(0,l.jsxs)("g",{fillRule:"nonzero",children:[(0,l.jsx)("path",{d:"M369.921245,193.228367 C369.921245,180.787422 368.818883,168.976399 366.929119,157.480337 L188.97637,157.480337 L188.97637,228.503956 L290.86613,228.503956 C286.299201,251.811041 272.913375,271.49608 253.070856,284.881906 L253.070856,332.125999 L313.858255,332.125999 C349.448805,299.212614 369.921245,250.708679 369.921245,193.228367 L369.921245,193.228367 Z",id:"path1512",fill:"#4285F4"}),(0,l.jsx)("path",{d:"M188.97637,377.952769 C239.99999,377.952769 282.677154,360.944895 313.858255,332.125999 L253.070856,284.881906 C236.062982,296.220488 214.48818,303.149622 188.97637,303.149622 C139.685034,303.149622 97.9527519,269.921277 82.9921226,225.039389 L20.3149598,225.039389 L20.3149598,273.700804 C51.3385806,335.433085 115.118106,377.952769 188.97637,377.952769 L188.97637,377.952769 Z",id:"path1514",fill:"#34A853"}),(0,l.jsx)("path",{d:"M82.9921226,225.039389 C79.0551149,213.700807 77.0078709,201.574823 77.0078709,188.976398 C77.0078709,176.377974 79.2125952,164.251992 82.9921226,152.913408 L82.9921226,104.251992 L20.3149598,104.251992 C7.4015745,129.763802 -2.84217094e-14,158.425218 -2.84217094e-14,188.976398 C-2.84217094e-14,219.527578 7.4015745,248.188994 20.3149598,273.700804 L82.9921226,225.039389 Z",id:"path1516",fill:"#FBBC05"}),(0,l.jsx)("path",{d:"M188.97637,74.8031746 C216.850385,74.8031746 241.732274,84.4094735 261.417312,103.14963 L315.275578,49.2913647 C282.677154,18.7401848 239.99999,2.80894819e-05 188.97637,2.80894819e-05 C115.118106,2.80894819e-05 51.3385806,42.5197114 20.3149598,104.251992 L82.9921226,152.913408 C97.9527519,108.03152 139.685034,74.8031746 188.97637,74.8031746 L188.97637,74.8031746 Z",id:"path1518",fill:"#EA4335"})]})})})},Screens_AuthScreen=function(e){let{mode:t}=e,{authUser:a,authLoading:n,googlePopupLogin:i,googleTokenLogin:s,logout:r}=(0,o.f2)();return n?(0,l.jsx)(u.Z,{}):a?(0,l.jsx)(Auth_AccountScreen,{mode:t}):(0,l.jsxs)("div",{className:"Login auth centered ".concat(t),children:[(0,l.jsxs)("div",{className:"copy centered large",children:[(0,l.jsx)("h1",{className:"welcome-text",children:"Welcome to ReVision"}),(0,l.jsx)("p",{children:"Interrupting bias and re-imagining communication."}),(0,l.jsx)("p",{children:"Implicit bias is a part of being human. ReVision helps you spot it, fix it, and track your improvement over time."})]}),(0,l.jsx)("div",{className:"ButtonRow centered",children:(0,l.jsxs)("button",{className:"button icon",onClick:()=>{"extension"===t?s():i()},children:[(0,l.jsx)(Auth_GoogleIcon,{}),(0,l.jsx)("span",{children:"Login with Google"})]})})]})},Auth_AccountScreen=function(e){let{mode:t}=e,{authUser:a,authLoading:n,logout:i}=(0,o.f2)();return n?(0,l.jsx)(u.Z,{}):a?(0,l.jsxs)("div",{className:"Account auth centered copy",children:[(0,l.jsx)("h1",{className:"Account-text",children:"Account"}),(0,l.jsxs)("p",{children:["Logged in as: ",null==a?void 0:a.email]}),(0,l.jsx)("div",{className:"ButtonRow centered shrink",children:(0,l.jsx)("button",{className:"button primary",onClick:i,children:"Logout"})})]}):(0,l.jsx)(Screens_AuthScreen,{mode:t})},h=a(76638),g=a(10618),m=a(72845),A=a(4796),p=a(81503),x=a.n(p),v=a(6104),y=a(78727);let getFiltterOutData=async(e,t,a)=>{let l=(0,g.IO)(e);try{let e=await (0,g.PL)(l),n=[];return e.forEach(e=>{let l=e.data().data,i=l.filter(e=>{if(e.timestamp){let l=e.timestamp,n=new Date(1e3*l.seconds+l.nanoseconds/1e6),i=x()(n).format("DD-MM-YYYY"),s=x()(t,"DD-MM-YYYY"),r=x()(a,"DD-MM-YYYY");return x()(i,"DD-MM-YYYY").isBetween(s,r,null,"[]")}});null!==t&&null!==a&&n.push(i)}),n}catch(e){return console.error("Error getting documents: ",e),[]}},f=["Total Nudges","Nudges related to subjective language","Nudges related to race/ethnicity","Nudges related to cultural identity","Nudges related to household status","Nudges related to disability status"],j=["#FF5C38","#FCF051","#EFA291","#262626"],b=["#FF5C38","#FCF051","#262626","#EFA291","#FFFFA7","#999999"];a(54242);var overlayLoader=function(){return(0,l.jsxs)("div",{className:"overly-loader",children:[(0,l.jsx)("img",{"aria-hidden":"true",src:"https://lh3.googleusercontent.com/hpmOa05kpbLU2iOFs9AtU4Y_d0clC4Wds-4G_PjOGwBI-PM26iwWPPzaj4e1fnxmNikYgU6EaJeaLe8mJDGNHHZ7CtI=w128-h128-e365-rj-sc0x00ffffff",style:{height:50,width:50}}),(0,l.jsx)("p",{children:"Loading..."})]})},C={src:"/_next/static/media/smile.1b2eb442.png",height:2048,width:2048,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEWengCHhwCgoAAPDwDMzADHxwGtrQAsLABMaXHn5wDQ0ABDQwDCwgC9vQDDwwBWVgD//wDw8ACurgNrawHMzABZ4MU9AAAAEHRSTlOb/Psb4vixJQD+8jHc39f5qAUDlQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD1JREFUeJwFwQkCgCAMA7ACO0GlQ///VhPEMp3mgTWrkuIw7v42AsrzHeUNrSKzLhh7a52ACzP5DIRDBCN+W4ICXIlziykAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},k={src:"/_next/static/media/speechless.16ac84b3.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEUAAAAAAAPCuTb//wAAAAB2cCZ3cCezqjP79kTq4ECqojLe1D2MERODAAAACXRSTlMBJPkBHbW2/PxclDBeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVR4nC3LQRLAIAzDQNmEhMD//9uhw3klGEgMILIqA5i9Vk+Qd/e2kE/VsS7Zl4i0//jtHyMEAO3lrfrrAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},w={src:"/_next/static/media/cool.446baa83.png",height:360,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEVMaXHJwCLPwRa7tB30uCb/9B/SzB9HRDr0vyX//h7//x86Oj/59EH74x/20yD0xyIAAFX//xhJRCf//xgXFy5GQR0bGSj/7iHx7CBMSCzv6CWqqEr/3CTo2yDn4zTFpbDCAAAAF3RSTlMAkfv7SJCP/ZH9lPv9SY5KA0lhSPpe+0OEhgoAAAAJcEhZcwAACxMAAAsTAQCanBgAAABDSURBVHicFcvHEYAgAADBI0dzAEHtv0zH/S+wxbgA2JbzK2YOl5xLbkVce+/nZTGPqk1Vw1SClCEM4O9Syvg37b2GD2yBAupVwcCsAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},Analytics_SuggestionsPie=()=>{let{RangePicker:e}=m.default,{authUser:t}=(0,o.f2)(),[a,i]=(0,n.useState)(0),[s,r]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),[D,S]=(0,n.useState)(null),[N,F]=(0,n.useState)(!1),[Y,M]=(0,n.useState)(Array),[W,B]=(0,n.useState)(!1),[L,Z]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[R,_]=(0,n.useState)({potentialFlag:0,racial:0,cultural:0,household:0,disability:0}),countByCategoryAndType=(e,t,a)=>a.filter(a=>a.category===e&&a.type===t).length,getAllSuggestions=async()=>{let e=await y.DB.suggestion.toArray();M(e)},setAllSuggetion=async()=>{try{_(e=>({...e,potentialFlag:countByCategoryAndType("bias","potential",Y),cultural:countByCategoryAndType("bias","cultural",Y),racial:countByCategoryAndType("bias","racial",Y),household:countByCategoryAndType("bias","household",Y),disability:countByCategoryAndType("bias","disability",Y)}))}catch(e){console.error("Error fetching suggestions:",e)}},getAnalyticsData=async()=>{if(!t)return;let e=await Promise.all(["flags","acceptedflags","ignorelist","rewriteflags"].map(e=>(0,g.PL)((0,g.hJ)(v.RZ,"users",t.uid,e)))),a=e.map(e=>e.docs.reduce((e,t)=>e+t.data().data.length,0)),[l,n,s,c]=a;i(l),r(n),d(s),p(c)};(0,n.useEffect)(()=>{getAllSuggestions()},[]),(0,n.useEffect)(()=>{getAnalyticsData()},[t]),(0,n.useEffect)(()=>{setAllSuggetion()},[Y]);let I=0!==a?(s+u)/a*100:0,filterMainDataByDate=async(e,a)=>{if(t&&null!==e&&null!==a){var l,n,s,c;F(!0);let o=(0,g.hJ)(v.RZ,"users"),u=(0,g.JU)(o,t.uid),h=(0,g.hJ)(u,"flags"),m=await getFiltterOutData(h,e,a);i(null===(l=m[0])||void 0===l?void 0:l.length);let A=(0,g.hJ)(u,"acceptedflags"),x=await getFiltterOutData(A,e,a);r(null===(n=x[0])||void 0===n?void 0:n.length);let y=(0,g.hJ)(u,"rewriteflags"),f=await getFiltterOutData(y,e,a);p(null===(s=f[0])||void 0===s?void 0:s.length);let j=(0,g.hJ)(u,"ignorelist"),b=await getFiltterOutData(j,e,a);d(null===(c=b[0])||void 0===c?void 0:c.length),F(!1)}},filterSubDataByDate=(e,t)=>{let a=Y.filter(a=>{let l=x()(a.date).format("DD-MM-YYYY"),n=x()(e,"DD-MM-YYYY"),i=x()(t,"DD-MM-YYYY");return x()(l,"DD-MM-YYYY").isBetween(n,i,null,"[]")});return e&&t&&M(a),a},onChange=(e,t)=>{let a="weekly"===t,l="range"===t;if(Z(null!==e&&a),B(null!==e&&l),E(null!==e&&a||null!==e&&l),e){let t=a?e.clone().startOf("week").format("DD-MM-YYYY"):e[0].format("DD-MM-YYYY"),l=a?e.clone().endOf("week").format("DD-MM-YYYY"):e[1].format("DD-MM-YYYY");filterMainDataByDate(t,l),filterSubDataByDate(t,l)}else getAnalyticsData(),getAllSuggestions()},[O,P]=(0,n.useState)(Array),[H,U]=(0,n.useState)({currentWeekFlag:0,currentWeekAcceptedFlag:0,currentWeekRewriteFlag:0,currentWeekIgnoreList:0}),[V,J]=(0,n.useState)({totlaFlag:a,currentWeekPotentialFlag:0,currentWeekRacial:0,currentWeekCultural:0,currentWeekHousehold:0,currentWeekDisability:0}),setAllFlagforWeek=async()=>{let e=await y.DB.suggestion.toArray();P(e)},getAllFlagForWeek=()=>{try{J(e=>({...e,currentWeekPotentialFlag:countByCategoryAndType("bias","potential",O),currentWeekRacial:countByCategoryAndType("bias","cultural",O),currentWeekCultural:countByCategoryAndType("bias","racial",O),currentWeekHousehold:countByCategoryAndType("bias","household",O),currentWeekDisability:countByCategoryAndType("bias","disability",O)}))}catch(e){console.error("Error fetching suggestions:",e)}},compareCurrentWeekSubData=(e,t)=>{let a=O.filter(a=>{let l=x()(a.date).format("DD-MM-YYYY"),n=x()(e,"DD-MM-YYYY"),i=x()(t,"DD-MM-YYYY");return x()(l,"DD-MM-YYYY").isBetween(n,i,null,"[]")});return null!==e&&null!==t&&P(a),a},compareCurrentWeekDatta=async(e,a)=>{if(t&&null!==e&&null!==a){let l=(0,g.hJ)(v.RZ,"users"),n=(0,g.JU)(l,t.uid),i=(0,g.hJ)(n,"flags"),s=await getFiltterOutData(i,e,a);U(e=>{var t;return{...e,currentWeekFlag:null===(t=s[0])||void 0===t?void 0:t.length}});let r=(0,g.hJ)(n,"acceptedflags"),c=await getFiltterOutData(r,e,a);U(e=>{var t;return{...e,currentWeekAcceptedFlag:null===(t=c[0])||void 0===t?void 0:t.length}});let o=(0,g.hJ)(n,"rewriteflags"),d=await getFiltterOutData(o,e,a);U(e=>{var t;return{...e,currentWeekRewriteFlag:null===(t=d[0])||void 0===t?void 0:t.length}});let u=(0,g.hJ)(n,"ignorelist"),h=await getFiltterOutData(u,e,a);U(e=>{var t;return{...e,currentWeekIgnoreList:null===(t=h[0])||void 0===t?void 0:t.length}})}},[z,G]=(0,n.useState)(!1);(0,n.useEffect)(()=>{setAllFlagforWeek()},[]),(0,n.useEffect)(()=>{getAllFlagForWeek()},[z]);let{currentWeekFlag:Q,currentWeekAcceptedFlag:X,currentWeekRewriteFlag:q,currentWeekIgnoreList:K}=H,$=[{label:"Total Nudges",value:a},{label:"Suggestions Accepted",value:s},{label:"Rewrites after Nudges",value:u},{label:"Nudges Ignored",value:c}],ee=[$,[{label:"Total Nudges",value:Q},{label:"Suggestions Accepted",value:X},{label:"Rewrites after Nudges",value:q},{label:"Nudges Ignored",value:K}]],disabledDate=(e,t)=>e&&e>x()().endOf("weekly"===t?"week":"day");return(0,l.jsxs)(l.Fragment,{children:[N&&(0,l.jsx)(overlayLoader,{}),(0,l.jsxs)("div",{className:"analytics-main",children:[(0,l.jsx)("div",{className:"filter-view",children:(0,l.jsxs)("div",{className:"filter-main",children:[(0,l.jsxs)("div",{className:"filter",children:[(0,l.jsx)("div",{className:"filter-title",children:"Analytics Filter"}),(0,l.jsxs)("div",{className:"filter-screen",children:[(0,l.jsxs)("div",{className:"weekly-filter",children:[(0,l.jsx)("label",{children:"Select A Week:"}),(0,l.jsx)(m.default,{onChange:e=>onChange(e,"weekly"),picker:"week",style:{width:200,height:40,borderWidth:1,borderColor:"#999999"},disabled:W,disabledDate:e=>disabledDate(e,"weekly")})]}),(0,l.jsxs)("div",{className:"weekly-filter",children:[(0,l.jsx)("label",{children:"Select specific Date:"}),(0,l.jsx)(e,{onChange:e=>onChange(e,"range"),format:"DD-MM-YYYY",style:{height:39,borderWidth:1,borderColor:"#999999"},disabled:L,disabledDate:e=>disabledDate(e,"range")})]}),(0,l.jsx)("div",{className:"weekly-filter",children:(0,l.jsx)(A.Z,{onChange:e=>{let t=e.target.checked;if(t){G(!0),Z(!0),B(!0);let e=x()(),t=e.clone().startOf("week").format("DD-MM-YYYY"),a=e.clone().endOf("week").format("DD-MM-YYYY");compareCurrentWeekDatta(t,a),compareCurrentWeekSubData(t,a)}else Z(!1),B(!1),G(!1)},disabled:T,children:"This Week v All Data"})})]})]}),(0,l.jsxs)("div",{className:"improvements-circle",children:[(0,l.jsx)("div",{className:"reaction-emoji",children:N?(0,l.jsx)("img",{src:k,alt:"SpeechLess",style:{height:45,width:45}}):I>=90?(0,l.jsx)("img",{src:w,alt:"cool",style:{height:35,width:35}}):I>=50?(0,l.jsx)("img",{src:C,alt:"Smile",style:{height:35,width:35}}):(I>=30||isNaN(I),(0,l.jsx)("img",{src:k,alt:"SpeechLess",style:{height:40,width:40}}))}),(0,l.jsx)("div",{className:"improvement-text",children:"Improvements"}),(0,l.jsx)("p",{className:"percentage",children:N?"loading..":isNaN(I)?"-":"".concat(I.toFixed(2),"%")})]})]})}),(0,l.jsx)(h.Z,{data:z?[{x:ee[0].map(e=>e.label),y:ee[0].map(e=>e.value),type:"bar",mode:"lines+markers",marker:{color:z?"#FF5C38":j},name:"All Data"},{x:ee[1].map(e=>e.label),y:ee[1].map(e=>e.value),type:"bar",mode:"lines+markers",marker:{color:z?"#FCF051":j},name:"This Week"}]:[{x:$.map(e=>e.label),y:$.map(e=>e.value),type:"bar",mode:"lines+markers",marker:{color:j}}],onClick:e=>{var t;return S(null===(t=e.points[0])||void 0===t?void 0:t.pointIndex)},layout:{title:z?"This Week vs All Data":"Individual Analytics",xaxis:{tickangle:15},width:950,barmode:"group",bargroupgap:z?.1:.3,legend:{orientation:"h",y:1.1}},config:{displayModeBar:!1}}),null!==D&&(0,l.jsx)(()=>{let{potentialFlag:e,racial:t,cultural:n,household:i,disability:s}=R,{totlaFlag:r,currentWeekPotentialFlag:c,currentWeekRacial:o,currentWeekCultural:d,currentWeekHousehold:u,currentWeekDisability:g}=V,m=[{x:f,y:[a,e,t,n,i,s],type:"bar",name:"All Data",marker:{color:z?"#FF5C38":b}}];return z&&m.push({x:f,y:[r,c,o,d,u,g],type:"bar",name:"This Week",marker:{color:z?"#FCF051":b}}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{data:m,layout:{title:z?"This Week vs All Data":"Individual Analytics",xaxis:{tickangle:22},width:950,barmode:"group",bargroupgap:z?.1:0,legend:{orientation:"h",y:1.1}},config:{displayModeBar:!1}}),(0,l.jsx)("p",{})]})},{selectedBar:D})]})]})},AnalyticsScreen=function(e){let{mode:t}=e;return(0,l.jsxs)("div",{className:"WelcomeScreen",children:[(0,l.jsx)("h1",{className:"analytics-text",children:"Analytics"}),(0,l.jsx)(Analytics_SuggestionsPie,{})]})},Screens_FeedbackScreen=function(){return(0,l.jsx)("div",{className:"WelcomeScreen",children:(0,l.jsx)("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLScnBXnRyIGaM7gWoxORbR1ENOgjBDE78aveKm7cgfHCxpvDoQ/viewform?embedded=true",width:"600px",height:"1200px",children:"Loadingâ€¦"})})},D=a(95225),S=a(30137),N=a(23024),Welcome_Fill=function(e){let{checked:t}=e,a=(0,l.jsx)("path",{d:"M6.987,4.774c15.308,2.213,30.731,1.398,46.101,1.398 c9.74,0,19.484,0.084,29.225,0.001c2.152-0.018,4.358-0.626,6.229,1.201c-5.443,1.284-10.857,2.58-16.398,2.524 c-9.586-0.096-18.983,2.331-28.597,2.326c-7.43-0.003-14.988-0.423-22.364,1.041c-4.099,0.811-7.216,3.958-10.759,6.81 c8.981-0.104,17.952,1.972,26.97,1.94c8.365-0.029,16.557-1.168,24.872-1.847c2.436-0.2,24.209-4.854,24.632,2.223 c-14.265,5.396-29.483,0.959-43.871,0.525c-12.163-0.368-24.866,2.739-36.677,6.863c14.93,4.236,30.265,2.061,45.365,2.425 c7.82,0.187,15.486,1.928,23.337,1.903c2.602-0.008,6.644-0.984,9,0.468c-2.584,1.794-8.164,0.984-10.809,1.165 c-13.329,0.899-26.632,2.315-39.939,3.953c-6.761,0.834-13.413,0.95-20.204,0.938c-1.429-0.001-2.938-0.155-4.142,0.436 c5.065,4.68,15.128,2.853,20.742,2.904c11.342,0.104,22.689-0.081,34.035-0.081c9.067,0,20.104-2.412,29.014,0.643 c-4.061,4.239-12.383,3.389-17.056,4.292c-11.054,2.132-21.575,5.041-32.725,5.289c-5.591,0.124-11.278,1.001-16.824,2.088 c-4.515,0.885-9.461,0.823-13.881,2.301c2.302,3.186,7.315,2.59,10.13,2.694c15.753,0.588,31.413-0.231,47.097-2.172 c7.904-0.979,15.06,1.748,22.549,4.877c-12.278,4.992-25.996,4.737-38.58,5.989c-8.467,0.839-16.773,1.041-25.267,0.984 c-4.727-0.031-10.214-0.851-14.782,1.551c12.157,4.923,26.295,2.283,38.739,2.182c7.176-0.06,14.323,1.151,21.326,3.07 c-2.391,2.98-7.512,3.388-10.368,4.143c-8.208,2.165-16.487,3.686-24.71,5.709c-6.854,1.685-13.604,3.616-20.507,4.714 c-1.707,0.273-3.337,0.483-4.923,1.366c2.023,0.749,3.73,0.558,5.95,0.597c9.749,0.165,19.555,0.31,29.304-0.027 c15.334-0.528,30.422-4.721,45.782-4.653",className:"path"});return(0,l.jsx)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:t&&a})},Screens_WelcomeScreen=function(e){let{handler:t}=e,[a,i]=(0,n.useState)({terms:!1,privacy:!1,conditions:!1}),_accepted=()=>a.terms&&a.privacy&&a.conditions;return(0,l.jsxs)("div",{className:"WelcomeScreen",children:[(0,l.jsx)(N.Z,{}),(0,l.jsxs)("div",{className:"text",children:[(0,l.jsxs)("p",{children:["Welcome to ReVision, a tool to help you write better, more accurate reports and evaluations, faster! Before we get started, please read our"," ",(0,l.jsx)("a",{href:"https://revisioned.org/terms",target:"_blank",children:"Terms and Conditions"})," ","and let us know that you agree. If you are a part of a school, please make sure to read the additional terms related to student data and privacy."," "]}),(0,l.jsx)("p",{children:"We get it, Terms and Conditions can be a bit lengthy. Most importantly, please check each of the following to indicate that you agree and understand:"})]}),(0,l.jsxs)("ul",{className:"terms",children:[(0,l.jsxs)("li",{onClick:()=>i({...a,terms:!a.terms}),children:[(0,l.jsx)(Welcome_Fill,{checked:a.terms}),(0,l.jsx)("input",{type:"checkbox",name:"terms",checked:a.terms,onChange:()=>null}),(0,l.jsx)("label",{htmlFor:"terms",children:"I am excited to try out ReVision! Or at least am curious about it. I am using it of my own free will and accept the Terms of Use."})]}),(0,l.jsxs)("li",{onClick:()=>i({...a,privacy:!a.privacy}),children:[(0,l.jsx)(Welcome_Fill,{checked:a.privacy}),(0,l.jsx)("input",{type:"checkbox",name:"privacy",checked:a.privacy,onChange:()=>null}),(0,l.jsx)("label",{htmlFor:"privacy",children:"I understand that ReVision may collect and use anonymized data to share, but that no identifiable data about me or usage will be exposed to any party."})]}),(0,l.jsxs)("li",{onClick:()=>i({...a,conditions:!a.conditions}),children:[(0,l.jsx)(Welcome_Fill,{checked:a.conditions}),(0,l.jsx)("input",{type:"checkbox",name:"conditions",checked:a.conditions,onChange:()=>null}),(0,l.jsx)("label",{htmlFor:"conditions",children:"I understand that ReVision is a cutting-edge A.I. tool in active development. I accept the Conditions that the app may contain glitches and that if it sometimes offers suggestions that do not make sense, I won't behave maliciously or freak out about that."})]})]}),(0,l.jsx)("button",{className:"button bordered",disabled:!_accepted(),onClick:()=>{_accepted()&&t()},children:"Accept & Continue"})]})},F=a(22135),Screens_HomeScreen=function(e){let{status:t,data:a}=(0,D.aF)(),n=(0,s.v$)(),_handler=async()=>{a&&(0,F.kX)(null==a?void 0:a.uid,{acceptedTerms:!0},a)};return"success"!==t?(0,l.jsx)(u.Z,{}):a&&n?n.acceptedTerms?(0,l.jsx)(S.default,{...e}):(0,l.jsx)(Screens_WelcomeScreen,{handler:_handler}):(0,l.jsx)(Screens_AuthScreen,{...e})},Y=a(28635),M=a(70345),W=a(31009),B=a(62950);let L=[{label:"Black",value:"black"},{label:"White",value:"white"},{label:"Asian",value:"asian"},{label:"Indian",value:"indian"},{label:"Hispanic",value:"hispanic"},{label:"Indigenous",value:"indigenous"},{label:"Multiracial",value:"multi"}],Z=[{label:"Non-binary",value:"multi"},{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Transgender",value:"transgender"}],T=[{label:"English",value:"english"},{label:"Spanish",value:"spanish"},{label:"Mandarin",value:"mandarin"}],E=[{label:"Hindu",value:"hindu"},{label:"Buddhist",value:"buddhist"},{label:"Christian",value:"christian"},{label:"Jewish",value:"jewish"},{label:"Muslim",value:"muslim"}],R=[{label:"Mental",value:"intellectual"},{label:"Physical",value:"physical"},{label:"Emotional",value:"emotional"},{label:"Developmental",value:"developmental"}],_=[{label:"Lives with two parents",value:"two"},{label:"Lives with one parent",value:"one"},{label:"Non-parental caregivers",value:"alternative"},{label:"Transient housing",value:"transient"},{label:"Low socioeconomic status",value:"low"},{label:"Medium socioeconomic status",value:"med"},{label:"High socioeconomic status",value:"high"}];function SettingsScreen(){let{status:e,data:t}=(0,D.aF)(),[a,i]=(0,n.useState)(F.$$),[s,r]=(0,n.useState)(F.at);return(0,n.useEffect)(()=>{"success"===e&&t&&(0,F.$8)(t.uid).then(e=>{e&&(i({...a,...e.demographics}),r({...s,...e.scribe}))})},[e,t]),(0,n.useEffect)(()=>{let l=a===F.$$&&s===F.at;"success"===e&&t&&!l&&(0,F.PO)(t.uid,{scribe:s,demographics:a})},[a,s]),(0,l.jsxs)("div",{className:"WelcomeScreen",children:[(0,l.jsx)(M.Z.Title,{level:1,children:"Settings"}),(0,l.jsx)(M.Z.Title,{level:2,children:"Application Settings"}),(0,l.jsx)(M.Z.Paragraph,{children:"You can modify your application and editor settings here."}),(0,l.jsxs)(W.Z,{gutter:[16,16],children:[(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Enable Formatting"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(A.Z,{style:{width:"100%"},onChange:e=>r({...s,formatting:e.target.checked}),checked:s.formatting})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(M.Z.Title,{level:2,children:"Your Demographics"}),(0,l.jsx)(M.Z.Paragraph,{children:"If you would like, please tell us about your background and demographics. This helps our system better understand you and the biases you may have. Remember, bias is not a bad word. We all have it. The first step towards evolving and shaping our biases is to better understand our own."}),(0,l.jsxs)(W.Z,{gutter:[16,16],children:[(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Ethnicity"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select race/ethinicities that you identify with",onChange:e=>i({...a,ethnicity:e}),options:L,value:a.ethnicity})}),(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Gender"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select the gender that you identify with",onChange:e=>i({...a,gender:e}),options:Z,value:a.gender})}),(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Language"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select the languages you speak",onChange:e=>i({...a,language:e}),options:T,value:a.language})}),(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Religion"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select the religions you practice",onChange:e=>i({...a,religion:e}),options:E,value:a.religion})}),(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Disability"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select the disabilities you may have",onChange:e=>i({...a,disability:e}),options:R,value:a.disability})}),(0,l.jsx)(B.Z,{span:6,children:(0,l.jsx)(M.Z.Title,{style:{margin:0,fontWeight:400},level:4,children:"Housing"})}),(0,l.jsx)(B.Z,{span:18,children:(0,l.jsx)(Y.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Describe the housing environments you relate to",onChange:e=>i({...a,housing:e}),options:_,value:a.housing})})]})]})}function Main(e){let[t,a]=(0,n.useState)(!0),s=(0,i.sJ)(c.mk),o=(0,i.sJ)(c.Te);(0,n.useEffect)(()=>{let e=localStorage.getItem("anonymizedPopup");e&&a(!1)},[]);let handleAccept=()=>{a(!1),localStorage.setItem("anonymizedPopup","true")};return(0,l.jsxs)("div",{id:"RevisionApp",children:[(0,l.jsx)(Navigation_PrimaryNav,{open:o}),(0,l.jsx)("div",{className:"Overlay ".concat(o?"visible":"")}),t&&(0,l.jsx)(r.Z,{title:"Profile Setup Confirmation",open:t,onOk:handleAccept,onCancel:handleAccept,cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"block",margin:"0 auto"}},children:(0,l.jsx)("p",{className:"reminder-text",children:"Thank you for registering with ReVision! As reminder, your registration is solely for your own use, and all data related to your use of ReVision is anonymized."})}),(t=>{switch(t){case"/account":return(0,l.jsx)(Auth_AccountScreen,{...e});case"/auth":return(0,l.jsx)(Screens_AuthScreen,{...e});case"/analytics":return(0,l.jsx)(AnalyticsScreen,{...e});case"/settings":return(0,l.jsx)(SettingsScreen,{});case"/feedback":return(0,l.jsx)(Screens_FeedbackScreen,{});default:return(0,l.jsx)(Screens_HomeScreen,{...e})}})(s)]})}function App(e){return(0,l.jsx)(i.Wh,{children:(0,l.jsx)(n.StrictMode,{children:(0,l.jsx)(s.Ot,{children:(0,l.jsx)(s.OV,{children:(0,l.jsx)(s.jj,{children:(0,l.jsx)(Main,{...e})})})})})})}},70123:function(e,t,a){"use strict";a.d(t,{OV:function(){return FirebaseAddons},Ot:function(){return FirebaseApp},jj:function(){return FirebaseUserContext},v$:function(){return useUserData}});var l=a(18708),n=a(55444),i=a(95225),s=a(6104),r=a(10618),c=a(88448),o=a(22135);function FirebaseApp(e){let{children:t}=e;return(0,l.jsx)(i.RE,{firebaseConfig:s.qe,children:t})}function FirebaseAddons(e){let{children:t}=e,a=(0,i.$N)(),n=(0,r.ad)(a),s=(0,c.v0)(a);return(0,l.jsx)(i.Bs,{sdk:n,children:(0,l.jsx)(i.Ho,{sdk:s,children:t})})}let d=(0,n.createContext)(null);function useUserData(){return(0,n.useContext)(d)}function FirebaseUserContext(e){let{children:t}=e,{status:a,data:s}=(0,i.aF)(),[r,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{"success"===a&&s&&(0,o.PR)(s.uid).then(c)},[a,s]),(0,l.jsx)(d.Provider,{value:r,children:t})}},54242:function(){},34223:function(){},20852:function(){}}]);